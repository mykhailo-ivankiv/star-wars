(this["webpackJsonpfactris-assignment"]=this["webpackJsonpfactris-assignment"]||[]).push([[0],{46:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(37),s=a.n(n),i=(a(46),a(73)),c=(a(47),a(6)),p=function(e,t,a){var r=""!==t?[e,t].join("__"):e;return"".concat(r," ").concat(a.reduce((function(e,t){return"".concat(e," ").concat(r).concat("--").concat(t)}),""))},o=function(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a="string"===typeof t?a:t||[],p(e,"string"===typeof t?t:"",Array.isArray(a)?a.filter(Boolean):Object.entries(a).filter((function(e){var t=Object(c.a)(e,2)[1];return Boolean(t)})).map((function(e){return Object(c.a)(e,1)[0]})))}},u=a(79),l=a(5),d=a.n(l),h=a(8),v=a(77),b=(a(49),a(1)),j=o("SearchHighlight"),f=Object(r.createContext)(""),O=function(e){var t=e.children,a=Object(r.useContext)(f),n=function(e,t){var a=[];if(""===e||""===t)return a;for(var r=new RegExp(t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&"),"gim"),n=0,s=e.search(r);s>=0;){a.push(s+n);var i=s+t.length;n+=i,s=(e=e.slice(i)).search(r)}return a}(t,a);return""===a&&0===n.length?t:n.reduce((function(e,t){var r=Object(c.a)(e,2),n=r[0],s=r[1],i=n.pop(),p=Object(v.a)(t-s,i),o=Object(c.a)(p,2),u=o[0],l=o[1],d=Object(v.a)(a.length,l),h=Object(c.a)(d,2),b=h[0],j=h[1];return n.push(u,b,j),[n,t+a.length]}),[[t],0])[0].map((function(e,t){return t%2===0?e:Object(b.jsx)("mark",{className:j(),children:e},t)}))},m=(a(51),o("Person")),w=function(e){var t,a,n=e.name,s=e.birthYear,c=e.homeWorld,p=e.species,o=e.films,u=Object(r.useContext)(q),l=Object(i.a)((function(){return u.planet(c)}),[c]),v=Object(i.a)((function(){return u.film(o[0])}),[o[0]]),j=Object(i.a)(Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0===p[0]?null:u.specie(p[0]));case 1:case"end":return e.stop()}}),e)}))),[p[0]]);return Object(b.jsxs)("div",{className:m(),children:[Object(b.jsx)(O,{children:n.padEnd(20," ")}),s.padEnd(10," "),l.loading&&"loading".padEnd(15),l.error&&"error:".padEnd(15),l.value&&l.value.name.padEnd(15),v.loading&&"loading".padEnd(20),v.error&&"error".padEnd(20),v.value&&v.value.title.padEnd(20),j.loading&&"loading".padEnd(10),j.error&&"error".padEnd(10),j.value&&(null!==(t=null===(a=j.value)||void 0===a?void 0:a.name)&&void 0!==t?t:"").padEnd(10)]})},g=(a(52),o("People")),x=function(){var e,t=Object(r.useContext)(q),a=Object(r.useState)(""),n=Object(c.a)(a,2),s=n[0],p=n[1],o=Object(r.useState)(s),l=Object(c.a)(o,2),d=l[0],h=l[1];Object(u.a)((function(){return h(s)}),400,[s]);var v=Object(i.a)((function(){return t.people(d)}),[t,d]);return Object(b.jsxs)("div",{className:g(),children:[Object(b.jsx)("input",{type:"text",className:g("search-input"),value:s,placeholder:"Search here",onChange:function(e){var t=e.target;return p(t.value)}}),Object(b.jsxs)("div",{className:g("search-result",{loading:v.loading}),children:[v.loading&&!v.value&&"loading",v.error&&"Error: ".concat(v.error.message),null===(e=v.value)||void 0===e?void 0:e.map((function(e){var t=e.name,a=e.birthYear,r=e.homeWorld,n=e.species,i=e.films;return Object(b.jsx)(f.Provider,{value:s,children:Object(b.jsx)("div",{className:g("search-result-item"),children:Object(b.jsx)(w,{name:t,birthYear:a,homeWorld:r,species:n,films:i},t)})})}))]})]})},y=a(14),E=a.n(y),k=a(74),N=a(75),C=a(80),A=function(e){return e.data.results.map((function(e){var t=e.name,a=e.birth_year,r=e.homeworld;return{name:t,birthYear:a,species:e.species,films:e.films,homeWorld:r}}))},R=function(e){return{name:e.data.name}},S=function(e){return{title:e.data.title}},P=function(e){return{name:e.data.name}},L=function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,r,n,s=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"https://swapi.dev/api/",e.next=3,E.a.get(t);case 3:return a=e.sent,r=a.data,n=r.people,e.abrupt("return",{people:Object(k.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(N.a)(e)}),Object(h.a)(d.a.mark((function e(){var t,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.t0=A,e.next=4,E.a.get("".concat(n,"?search=").concat(t));case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}}),e)})))),planet:Object(k.a)(C.a,function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=R,e.next=3,E.a.get(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),film:Object(k.a)(C.a,function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=S,e.next=3,E.a.get(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),specie:Object(k.a)(C.a,function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=P,e.next=3,E.a.get(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=a(41),_=a(26),B=function(e){var t;try{t=new URL(e)}catch(a){return!1}return"http:"===t.protocol||"https:"===t.protocol},J=function(e){return Object(e)!==e},T=a(78),Y=a(40),G=a(81),H=a(38),$=a(76),D=Object(k.a)(C.a,function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.entries(t).flatMap((function(r){var n=Object(c.a)(r,2),s=n[0],i=n[1],p=Array.isArray(t)?Number(s):s;return J(i)?[[[].concat(Object(_.a)(a),[p]),i]]:e(i,[].concat(Object(_.a)(a),[p]))}))};I([1,2,3]);var M=function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(T.a)(I,Object(Y.a)((function(e){var t=Object(c.a)(e,2),a=(t[0],t[1]);return B(a)})),Object(Y.a)((function(e){return!Object(c.a)(e,1)[0].includes("url")})),Object(G.a)(function(){var e=Object(h.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(c.a)(t,2),r=a[0],n=a[1],e.t0=r,e.next=4,D(n);case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))(t),e.t0=H.a,e.t1=function(e,t){var a=Object(c.a)(t,2),r=a[0],n=a[1];return Object($.a)(r,n,e)},e.t2=t,e.next=6,Promise.all(a);case 6:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=a(39),z=a.n(Z),F=(a(71),o("ResourceResolver")),K=function(){var e=Object(r.useState)({title:"A New Hope",episode_id:4,opening_crawl:"It is a period of civil war.\r\nRebel spaceships, striking\r\nfrom a hidden base, have won\r\ntheir first victory against\r\nthe evil Galactic Empire.\r\n\r\nDuring the battle, Rebel\r\nspies managed to steal secret\r\nplans to the Empire's\r\nultimate weapon, the DEATH\r\nSTAR, an armored space\r\nstation with enough power\r\nto destroy an entire planet.\r\n\r\nPursued by the Empire's\r\nsinister agents, Princess\r\nLeia races home aboard her\r\nstarship, custodian of the\r\nstolen plans that can save her\r\npeople and restore\r\nfreedom to the galaxy....",director:"George Lucas",producer:"Gary Kurtz, Rick McCallum",release_date:"1977-05-25",characters:["https://swapi.dev/api/people/1/","https://swapi.dev/api/people/2/","https://swapi.dev/api/people/3/","https://swapi.dev/api/people/4/","https://swapi.dev/api/people/5/","https://swapi.dev/api/people/6/","https://swapi.dev/api/people/7/","https://swapi.dev/api/people/8/","https://swapi.dev/api/people/9/","https://swapi.dev/api/people/10/","https://swapi.dev/api/people/12/","https://swapi.dev/api/people/13/","https://swapi.dev/api/people/14/","https://swapi.dev/api/people/15/","https://swapi.dev/api/people/16/","https://swapi.dev/api/people/18/","https://swapi.dev/api/people/19/","https://swapi.dev/api/people/81/"],planets:["https://swapi.dev/api/planets/1/","https://swapi.dev/api/planets/2/","https://swapi.dev/api/planets/3/"],starships:["https://swapi.dev/api/starships/2/","https://swapi.dev/api/starships/3/","https://swapi.dev/api/starships/5/","https://swapi.dev/api/starships/9/","https://swapi.dev/api/starships/10/","https://swapi.dev/api/starships/11/","https://swapi.dev/api/starships/12/","https://swapi.dev/api/starships/13/"],vehicles:["https://swapi.dev/api/vehicles/4/","https://swapi.dev/api/vehicles/6/","https://swapi.dev/api/vehicles/7/","https://swapi.dev/api/vehicles/8/"],species:["https://swapi.dev/api/species/1/","https://swapi.dev/api/species/2/","https://swapi.dev/api/species/3/","https://swapi.dev/api/species/4/","https://swapi.dev/api/species/5/"],created:"2014-12-10T14:23:31.880000Z",edited:"2014-12-20T19:49:45.256000Z",url:"https://swapi.dev/api/films/1/"}),t=Object(c.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(JSON.stringify(a,null,4)),i=Object(c.a)(s,2),p=i[0],o=i[1];Object(u.a)((function(){try{var e=JSON.parse(p);n(e)}catch(t){}}),1e3,[p]);var l=Object(W.a)((function(){return M(a)}),[a]),d=Object(c.a)(l,2),h=d[0],v=d[1];return Object(b.jsxs)("div",{className:F(),children:[Object(b.jsx)("textarea",{className:F("textarea"),value:p,onChange:function(e){var t=e.target;return o(t.value)}}),Object(b.jsx)("button",{className:F("submit-button"),onClick:v,children:"Load data"}),Object(b.jsxs)("div",{className:F("result",{loading:h.loading}),children:[h.loading&&!h.value&&"Loading",h.error&&"Error: ".concat(h.error.message),(null===h||void 0===h?void 0:h.value)&&Object(b.jsx)(z.a,{src:null===h||void 0===h?void 0:h.value,collapsed:2})]})]})},U=o("App"),q=Object(r.createContext)(null),Q=function(){var e=Object(i.a)((function(){return L()}),[]),t=e.loading,a=e.error,r=e.value;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("main",{className:U(),children:[Object(b.jsxs)("section",{className:U("section"),children:[Object(b.jsx)("h1",{children:"A long time ago in a galaxy far, far away...."}),t&&"Loading",!t&&a&&Object(b.jsxs)("div",{children:["Error: ",a.message]}),!t&&r&&Object(b.jsx)(q.Provider,{value:r,children:Object(b.jsx)(x,{})})]}),Object(b.jsxs)("section",{className:U("section"),children:[Object(b.jsxs)("h1",{children:["Resource resolver.",Object(b.jsx)("br",{}),' Click on "load data" button, to see magic....']}),Object(b.jsx)(K,{})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(b.jsx)(Q,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[72,1,2]]]);
//# sourceMappingURL=main.f4cc8be3.chunk.js.map